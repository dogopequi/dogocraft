#ifndef CORE_H
#define CORE_H
#include "raylib.h"
#include "utils.h"
#include "FastNoiseLite.h"
#define CHUNK_SIZE 16
#define CHUNK_HEIGHT 32
#define WORLD_SIZE 3

#define CUBE_SIZE 32

#define COLUMNS 23
#define ROWS 16

#define CELL_WIDTH 16
#define CELL_HEIGHT 16

#define TEXTURES_COUNT 46

#define AIR -1
#define LAVA_0 0
#define LAVA_1 1
#define WATER_0 2
#define WATER_1 3
#define BED_SIDE_1 4
#define BOOKSHELF 5
#define CACTUS_INNER 6
#define CAKE_0 7
#define IDK 8
#define DROPPER_FRONT 9
#define WHITE_GRASS 10
#define PLANT_TOP 11
#define OBSIDIAN 12
#define DIRT_HOED 13
#define WHITE_FLOWER 14
#define FURNACE 15
#define WOODEN_PLANKS 16
#define QUARTZ_INNER 17
#define REDSTONE_DUST 18
#define SAPLING 19
#define SOME_BLOCK 20
#define WATER_DROP 21
#define WOOL_GREEN 22
#define LAVA_2 23
#define LAVA_3 24
#define WATER_2 25
#define WATER_3 26
#define BED_RED 27
#define POTION 28
#define CACTUS_LOG 29
#define CAKE_OTHER 30
#define IDK1 31
#define DOOR_WOODEN_WHITE 32
#define PLANT_CHERRY 33
#define PLANT_MIDDLE 34
#define ENCHANTING_TABLE_SIDE 35
#define OTHER_SAPLING 36
#define SMALL_DOOR 37
#define FURNACE_SIDE 38
#define PORTAL 39
#define QUARTZ_SIDE 40
#define CANTSE 41
#define BIRCH_SAPLING 42
#define STONE_SLAB 43
#define LILYPAD 44
#define WOOL_BLUE 45
#define STONE 46
#define STONE_0 47
#define STONE_1 48
#define STONE_2 49
#define BED_SIDE_2 50
#define STONE_TYPE 51
#define CACTUS_BOTTOM 52
#define CAKE_TOP 53
#define DIAMOND_WHOLE 54
#define IRON_DOOR_TOP 55
#define FLOWER_TOP 56
#define LONG_FLOWER_TOP 57
#define ENCHANTING_TABLE_TOP 58
#define FIRE_0 59
#define RED_FLOWER 60
#define FURNACE_SIDE_BOTTOM 61
#define POTATOES_0 62
#define QUARTZ_SIDE_1 63
#define LAMPSTONE 64
#define SAPLING_SPRUCE 65
#define STONE_OTHER 66
#define WEB 67
#define WOOL_GREEN_LIGHT 68
#define BEACON 69
#define BED_OTHER_0 70
#define BED_OTHER_1 71
#define BED_RED_1 72
#define BEDROCK 73
#define BRICK 74
#define ORANGE 75
#define CARROT_0 76
#define DIAMOND_ORE 77
#define DOOR_WOODEN_BOTTOM 78
#define RED_PLANT_BOTTOM 79
#define OBSIDIAN_DARK 80
#define END 81
#define FIRE_1 82
#define PLANT_ORANGE 83
#define GLASS 84
#define POTATOES_1 85
#define NETHERITE_ORE 86
#define LAMPSTONE_LIGHT 87
#define SAPLING_OAK 88
#define STONE_BRICK 89
#define WHEAT_0 90
#define WOOL_PINKISH 91
#define CARROT_1 92
#define CARROT_2 93
#define CARROT_3 94
#define WEIRD_BLOCK 95
#define WEIRD_BLOCK_1 96
#define WEIRD_BLOCK_2 97
#define WEIRD_BLOCK_3 98
#define WEIRD_BLOCK_4 99
#define GRAVEL 100
#define DIRT 101
#define DOOR_WOODEN_TOP 102
#define RED_FLOWER_BOTTOM 103
#define DISPENSER 104
#define ENDER_PEARL 105
#define LILY_FLOWER 106
#define PURPLE_FLOWER 107
#define BLACK_STAINED_GLASS 108
#define POTATOES_2 109
#define REDSTONE_RAIL_OFF 110
#define REDSTONE_ORE 111
#define SAPLING_DARK_OAK 112
#define STONE_SQUARE 113
#define WHEAT_1 114
#define WOOL_ORANGE 115
#define COAL_WHOLE 116
#define COAL_ORE 117
#define COBBLESTONE 118
#define MOSS_STONE 119
#define LAMP_0 120
#define LAMP_1 121
#define LAMP_2 122
#define ERY_BLOCK 123
#define DIRT_UGLY_SIDE 124
#define WEB_1 125
#define LILYPAD_PLANT_TOP 126
#define DROPPER_TOP 127
#define END_PORTAL_SIDE 128
#define BLUE_FLOWER 129
#define RED_FLOWER_OTHER 130
#define BLUE_STAINED_GLASS 131
#define POTATOES_3 132
#define REDSTONE_RAIL_ON 133
#define REDSTONE_TORCH_OFF 134
#define SAPLING_WINTER 135
#define STONE_DAMAGED 136
#define WHEAT_2 137
#define WOOL_PINK 138
#define REDSTONE_REPEATER_OFF 139
#define REDSTONE_REPEATER_ON 140
#define CRAFTING_TABLE_FRONT 141
#define CRAFTING_TABLE_SIDE 142
#define CRAFTING_TABLE_TOP 143
#define CUSHION 144
#define LAMP_OTHER 145
#define DESERT_PLANT 146
#define DIRT_UGLY_TOP 147
#define WEB_2 148
#define LILYPAD_PLANT_BOTTOM 149
#define EMERALD 150
#define END_PORTAL_TOP 151
#define YELLOW_FLOWER 152
#define WHITE_FLOWER_OTHER 153
#define BROWN_STAINED_GLASS 154
#define JACK_O_LANTERN_OFF 155
#define REDSTONE_POWER_RAIL_OFF 156
#define REDSTONE_TORCH_ON 157
#define SLIME 158
#define STONE_MOSS 159
#define WHEAT_3 160
#define WOOL_PURPLE 161
#define WEB_THING_0 162
#define WEB_THING_1 163
#define WEB_THING_2 164
#define WEB_THING_3 165
#define WEB_THING_4 166
#define WEB_THING_4 167
#define WEB_THING_5 168
#define WEB_THING_6 169
#define DROPPER_OTHER 170
#define WEB_3 171
#define SUNFLOWER 172
#define EMERALD_ORE 173
#define DIRT_HOED 174
#define WHITE_FLOWER_OTHER_OTHER 175
#define FURNACE_FRONT_OFF 176
#define CYAN_STAINED_GLASS 177
#define JACK_O_LANTERN_ON 178
#define REDSTONE_POWER_RAIL_ON 179
#define SUGARCANE 180
#define SNOW 181
#define WHEAT_4 182
#define WOOL_RED 183
#define DARK_STAINED_GLASS 184
#define DARK_GREEN_STAINED_GLASS 185
#define BLUE_LIGHT_STAINED_GLASS 186
#define LIGHT_GREEN_STAINED_GLASS 187
#define ORANGE_STAINED_GLASS 188
#define WHITE_POST 189
#define BLACK_POST 190
#define BLUE_POST 191
#define BROWN_POST 192
#define CYAN_POST 193
#define GREY_POST 194
#define DARK_GREEN_POST 195
#define BLUE_LIGHT_POST 196
#define PURPLE_POST 197
#define JACK_O_LANTERN_SIDE 198
#define REDSTONE_RAIL_OTHER_OFF 199
#define REDSTONE_SWITCH_OFF 200
#define SOUL_SAND 201
#define TNT_BOTTOM 202
#define WHEAT_5 203
#define WOOL_GREY 204
#define ORANGE_POST 205
#define PINK_POST 206
#define VIOLET_POST 207
#define RED_POST 208
#define GREY_POST_1 209
#define WHITE_POST 210
#define YELLOW_POST 211
#define PINK_STAINED_GLASS 212
#define PURPLE_STAINED_GLASS 213
#define RED_STAINED_GLASS 214
#define GREY_STAINED_GLASS 215
#define WHITE_STAINED_GLASS 216
#define YELLOW_STAINED_GLASS 217
#define GLOWSTONE 218
#define GOLD 219
#define GOLD_ORE 220
#define DEAD_FLOWER 221
#define DEAD_FLOWER_1 222
#define REDSTONE_RAIL_OTHER_ON 230
#define REDSTONE_SWITCH_ON 231
#define SPONGE 232
#define TNT_SIDE 233
#define WHEAT_6 234
#define WOOL_WHITE 235
#define DIRT_SIDE 236
#define DEAD_DIRT_SIDE 237
#define SNOW_DIRT_SIDE 238
#define GRAVEL_1 239
#define GRAVEL_2 240
#define CLAY_LIGHT_BROWN 241
#define CLAY_DARK_BROWN 242
#define CLAY_NOT_USED_0 243
#define CLAY_BROWN 244
#define CLAY_GREY 245
#define CLAY_DARKER_BROWN 246
#define CLAY_DARK_GREEN 247
#define CLAY_GREY_LIGHT 248
#define CLAY_PINK_DARK 249
#define CLAY_ORANGE 250
#define DEAD_FLOWER_2 251
#define RAIL 252
#define SAND 253
#define STONE_SAME 254
#define TNT_TOP 255
#define WHEAT_7 256
#define WOOL_YELLOW 257
#define CLAY_NOT_USED_1 258
#define CLAY_NOT_USED_2 259
#define CLAY_NOT_USED_3 260
#define CLAY_NOT_USED_4 261
#define CLAY_NOT_USED_5 262
#define CLAY_NOT_USED_6 263
#define HAY_SIDE 264
#define HAY_TOP 265
#define NOT_USED_0 266
#define NOT_USED_1 267
#define NOT_USED_2 268
#define ICE_UNDERWATER 269
#define ICE 270
#define BARS 271
#define IRON 272
#define IRON_ORE 273
#define JACK_O_LANTERN_TOP 274
#define RAIL_CORNER 275
#define SAND_0 276
#define STONE_SAME_0 277
#define TORCH 278
#define WOOL_BLACK 279
#define NOT_USED_3 280
#define IRON_TRAP_dORR 281
#define NOT_USED_4 282
#define NOT_USED_5 283
#define NOT_USED_6 284
#define LADDER 285
#define LAPIS 286
#define LAPIS_ORE 287
#define LAVA_4 288
#define DEAD_LEAVES 289
#define DEAD_LEAVES1 289
#define DEAD_LEAVES2 289
#define DEAD_LEAVES3 289
#define DEAD_LEAVES4 289
#define DEAD_LEAVES5 289
#define DEAD_LEAVES6 289
#define DEAD_LEAVES7 289
#define QUARTZ_OTHER 290
#define DESERT_BLOCK 291
#define STANDSTONE_CREEPER 292
#define STONE_SOLID 293
#define WOODEN_TRAP_DORR 294
#define WOOL_BLUE_DARK 295
#define NOT_USED_7 296
#define DEAD_LEAVES8 297
#define DEAD_LEAVES8 298
#define DEAD_LEAVES8 299
#define DEAD_LEAVES9 300
#define LEVER 301
#define DESERT_LOG 302
#define DESERT_LOG_INNER 303
#define LOG 304
#define LOG_INNER 305
#define BIRCH_LOG 306
#define BIRCH_INNER 307
#define LOG_JUNGLE 308
#define JUNGLE_INNER 309
#define OAK_LIGHT_INNER 310
#define OAK_LIGHT 311
#define DARK_LOG 312
#define QUARTZ_FANCY 313
#define REDSTONE_WHOLE 314
#define STANDSTONE_0 315
#define OTHER_BLOCK 316
#define BEDROCK_OTJHER 317
#define WOOL_BROWN 318
#define NOT_USED_8 319




typedef struct Cell{
    int column;
    int row; 
} Cell;
typedef struct Block{
    int type;
    Vector3 pos;
    Mesh mesh;

} Block;

typedef struct Chunk {
    Block* blocks;
} Chunk;

void draw_chunk(Chunk* chunk);
int validate_index(int index, int max, Chunk* chunk);
void validate_indexes(int left, int right, int top, int bottom, int front, int back, int max, int* canrender, Chunk* chunk);
void generateChunk(Chunk* chunk, int chunkX, int chunkZ);
Cell get_cell_from_type(int type);
float get_noise_at(fnl_state* noise, int worldX, int worldZ);
void load_texture();
void create_world();
void draw_world(Camera camera);
extern RenderTexture2D* textures;
extern Chunk* world[WORLD_SIZE][WORLD_SIZE];
extern Texture2D atlas;
void init_textures();
RenderTexture2D get_texture_from_atlas(Cell cell);

#endif